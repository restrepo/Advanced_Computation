
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GitHub Action for DevOps &#8212; My sample book</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Notebooks with MyST Markdown" href="markdown-notebooks.html" />
    <link rel="prev" title="Multiprocessing" href="Multiprocessing.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">My sample book</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to your Jupyter Book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="markdown.html">
   Markdown Files
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Multiprocessing.html">
   Multiprocessing
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   GitHub Action for DevOps
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="markdown-notebooks.html">
   Notebooks with MyST Markdown
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/executablebooks/jupyter-book/master?urlpath=tree/docs/DevOps.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/executablebooks/jupyter-book"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FDevOps.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/DevOps.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#simple-template">
   Simple template
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#test-pypi-configuration">
     (Test) pypi configuration
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#github-settings">
     GitHub settings
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#github-actions">
     GitHub Actions
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#python-package-action">
       Python package action
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#python-publish-action">
       Python publish action
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#local-management-of-devops">
   Local management of DevOps
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#install">
     Install
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#syntax-checking-with-flake8">
     Syntax checking with
     <code class="docutils literal notranslate">
      <span class="pre">
       flake8
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tests">
     Tests
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#references">
   References
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>GitHub Action for DevOps</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#simple-template">
   Simple template
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#test-pypi-configuration">
     (Test) pypi configuration
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#github-settings">
     GitHub settings
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#github-actions">
     GitHub Actions
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#python-package-action">
       Python package action
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#python-publish-action">
       Python publish action
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#local-management-of-devops">
   Local management of DevOps
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#install">
     Install
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#syntax-checking-with-flake8">
     Syntax checking with
     <code class="docutils literal notranslate">
      <span class="pre">
       flake8
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tests">
     Tests
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#references">
   References
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="github-action-for-devops">
<h1>GitHub Action for DevOps<a class="headerlink" href="#github-action-for-devops" title="Permalink to this headline">#</a></h1>
<p>The Development and IT Operations (DevOps) implemented here trough GitHub actions includes three parts</p>
<ol class="simple">
<li><p>Python style guide enforcement through <code class="docutils literal notranslate"><span class="pre">flake8</span></code>. Check the <code class="docutils literal notranslate"><span class="pre">jupyterlab-flake8</span></code> extension or the <code class="docutils literal notranslate"><span class="pre">cornflakes-linter</span></code> extension of visual code, to easily fix possible syntax errors. They are activated when the file is saved. The corresponding GitHub action is triggered after each <em>commit</em>.</p></li>
<li><p>Testing through <code class="docutils literal notranslate"><span class="pre">pytest</span></code>. The corresponding GitHub action is triggered after each <em>commit</em>.</p></li>
<li><p>Creating a pip package and publish it in (test) pypi.  The corresponding GitHub action is triggered after each <em>release</em>.</p></li>
</ol>
<div class="section" id="simple-template">
<h2>Simple template<a class="headerlink" href="#simple-template" title="Permalink to this headline">#</a></h2>
<p>To illustrate this three points we will use a template repository in GitHub with a very simple Python program that just returns the string: <code class="docutils literal notranslate"><span class="pre">'Hello,</span> <span class="pre">World!'</span></code>:</p>
<p><a class="reference external" href="https://github.com/restrepo/devops">https://github.com/restrepo/devops</a></p>
<p>From there we will create a pip package with a modified version of the template in the sandbox of <a class="reference external" href="https://pypi.org">https://pypi.org</a>, which is called <a class="reference external" href="https://test.pypi.org">https://test.pypi.org</a>. An official package could follow the same procedure but by using the official site. Please make a fork of the previous repository and rename it to some name that is not used at all in <a class="reference external" href="https://test.pypi.org">https://test.pypi.org</a>, for example, for <code class="docutils literal notranslate"><span class="pre">abc123</span></code></p>
<p><a class="reference external" href="https://test.pypi.org/project/abc123/">https://test.pypi.org/project/abc123/</a></p>
<p>the message:</p>
<blockquote>
<div><p>We looked everywhere but couldn’t find this page</p>
</div></blockquote>
<p>would appears there. This means that the name will be avalaible for a new (test) pip package under the name <code class="docutils literal notranslate"><span class="pre">abc123</span></code>. I will use that name from now on</p>
<div class="section" id="test-pypi-configuration">
<h3>(Test) pypi configuration<a class="headerlink" href="#test-pypi-configuration" title="Permalink to this headline">#</a></h3>
<p>Please creates an account in <a class="reference external" href="https://test.pypi.org">https://test.pypi.org</a>, login there, and go to the <a class="reference external" href="https://test.pypi.org/manage/account/">“Account Settings”</a> (from the uper-right link with your chosen username).</p>
<p>After the proper authentication, scroll down to the section <a class="reference external" href="https://test.pypi.org/manage/account/#api-tokens">API tokens</a> and click on the button:
<button style="background-color:#006dad; border-color:#006dad; color: #fff;">Add API token</button>. Fill the fields “Token name”, with <code class="docutils literal notranslate"><span class="pre">github</span></code> for example, and the scope with <code class="docutils literal notranslate"><span class="pre">Entire</span> <span class="pre">account</span> <span class="pre">(all</span> <span class="pre">projects)</span></code>, after add the token, you must copy it in your clipboard this but using the button: <button style="background-color:#006dad; border-color:#006dad; color: #fff;">Copy token</button>.</p>
</div>
<div class="section" id="github-settings">
<h3>GitHub settings<a class="headerlink" href="#github-settings" title="Permalink to this headline">#</a></h3>
<p>In the GitHub page for your repository, that from now on I will use as (please use your own one from now on)</p>
<p><a class="reference external" href="https://github.com/MyAccountInGitHub/abc123">https://github.com/MyAccountInGitHub/abc123</a></p>
<p>Go to the Settings tab and from there follow the following navigation:</p>
<ul class="simple">
<li><p>Secrets → Actions → Actions secrets → <button> New repository secret</button> and fill the fields with:</p>
<ul>
<li><p><strong>Name</strong>: TESTPYPI_PASSWORD</p></li>
<li><p><strong>Secret</strong>: Paste your copied token here</p></li>
</ul>
</li>
</ul>
<p>Be sure that after add the Secret, a confirmation message appears in the top of the page with:</p>
<blockquote>
<div><p>Repository secret added.</p>
</div></blockquote>
<p>Go back  to the GitHub page for your repository at:</p>
<p><a class="reference external" href="https://github.com/MyAccountInGitHub/abc123">https://github.com/MyAccountInGitHub/abc123</a></p>
<p>Go to the Actions tab and if necessary, click on:</p>
<p><button style="background-color:#2da44e; border-color:rgba(27,31,36,0.15); color: #fff;">I understand my workflows, go ahead and enable them</button></p>
</div>
<div class="section" id="github-actions">
<h3>GitHub Actions<a class="headerlink" href="#github-actions" title="Permalink to this headline">#</a></h3>
<div class="section" id="python-package-action">
<h4>Python package action<a class="headerlink" href="#python-package-action" title="Permalink to this headline">#</a></h4>
<p>In <code class="docutils literal notranslate"><span class="pre">.github/workflows/python-package.yml</span></code> there are the instructions for the creation of <a class="reference external" href="https://ubuntu.com/">Ubuntu</a> <a class="reference external" href="https://en.wikipedia.org/wiki/Docker_(software)">Docker containers</a> with the clonned repository, specific python versions, and the required dependencies (see below). Also, there are scripts to run the commands: <code class="docutils literal notranslate"><span class="pre">flake8</span></code> and <code class="docutils literal notranslate"><span class="pre">pytest</span></code> upon the repository. Please check the file for the details.</p>
<p>This processes is triggered after each commit. Please edit the <code class="docutils literal notranslate"><span class="pre">setup.py</span></code>  and replace the following lines there</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>        <span class="c1"># Application name:</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;desoper&quot;</span><span class="p">,</span>

        <span class="c1"># Version number (initial):</span>
        <span class="n">version</span><span class="o">=</span><span class="s2">&quot;0.0.3&quot;</span><span class="p">,</span>
</pre></div>
</div>
<p>by the new repository name, e,g: <code class="docutils literal notranslate"><span class="pre">abc123</span></code>, and reset the version to 0.0.1:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>        <span class="c1"># Application name:</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;abc123&quot;</span><span class="p">,</span>

        <span class="c1"># Version number (initial):</span>
        <span class="n">version</span><span class="o">=</span><span class="s2">&quot;0.0.1&quot;</span><span class="p">,</span>
</pre></div>
</div>
<p>Then, make the commit and check again the Actions tab. Wait until all the processes end up in green and check the Output by clicking in the link with the commit name, e.g “Update <a class="reference external" href="http://setup.py">setup.py</a>”.  From there click in the link with the last build preceded by the check green circle, e.g build (3.9). In the log output, expand the arrow with <code class="docutils literal notranslate"><span class="pre">Lint</span> <span class="pre">with</span> <span class="pre">flake8</span></code>  and the arrow with <code class="docutils literal notranslate"><span class="pre">Test</span> <span class="pre">with</span> <span class="pre">pytest</span></code>.</p>
<p>Also make the following corresponding changes and edits (use your own package name instead of <code class="docutils literal notranslate"><span class="pre">abc123</span></code>) , because the pypi server check for files with the same name or contents:</p>
<ol class="simple">
<li><p>Inside the directory <code class="docutils literal notranslate"><span class="pre">desoper</span></code> change the name of the file <code class="docutils literal notranslate"><span class="pre">hello.py</span></code>  to <code class="docutils literal notranslate"><span class="pre">abc123.py</span></code></p></li>
<li><p>Edit <code class="docutils literal notranslate"><span class="pre">abc123.py</span></code> and change in line 3 <code class="docutils literal notranslate"><span class="pre">Hello</span> <span class="pre">module</span></code> by  <code class="docutils literal notranslate"><span class="pre">abc123</span> <span class="pre">module</span></code></p></li>
<li><p>Edit <code class="docutils literal notranslate"><span class="pre">__init__.py</span> </code> and change:</p></li>
</ol>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">desoper</span> <span class="kn">import</span> <span class="n">hello</span>
</pre></div>
</div>
<p>by</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">desoper</span> <span class="kn">import</span> <span class="n">abc123</span>
</pre></div>
</div>
</div>
<div class="section" id="python-publish-action">
<h4>Python publish action<a class="headerlink" href="#python-publish-action" title="Permalink to this headline">#</a></h4>
<p>In <code class="docutils literal notranslate"><span class="pre">.github/workflows/python-publish.yml</span></code> the deploy processes in (test.)<a class="reference external" href="http://pypi.org">pypi.org</a> are automated by creating the pip package and uploading it to the (test) pypi official server.
This action is trigger when a new release is created. For that, go again to the main page of the repository and click on the link of the left called <a class="reference external" href="https://github.com/MyAccountInGitHub/abc123/releases"><strong>Releases</strong></a>. Once there,</p>
<ol class="simple">
<li><p>Click in the button <button style="background-color:#2da44e; border-color:rgba(27,31,36,0.15); color: #fff;">Create a new release</button></p></li>
<li><p>Click in the menu “Choose a tag” and in fill the field with “v0.0.1” and click in the button <button><strong>+ Create new tag: v0.0.1</strong> on publish</button></p></li>
<li><p>Fill the “Release title” box with some description, e.g., <code class="docutils literal notranslate"><span class="pre">Initial</span> <span class="pre">release</span></code>.</p></li>
<li><p>Click the button <button style="background-color:#2da44e; border-color:rgba(27,31,36,0.15); color: #fff;">Publish release</button></p></li>
<li><p>Check again the Actions tab and wait for the deploy workflow to finish, and check that it finished in green</p></li>
<li><p>Check that the tags in the the <code class="docutils literal notranslate"><span class="pre">README.md</span></code> are updated with a green status (in an incognito window to avoid the browser cache)</p></li>
<li><p>Go to the <a class="reference external" href="https://test.pypi.org/project/abc123/">https://test.pypi.org/project/abc123/</a> link again and check for the installation instructions</p></li>
</ol>
<p>Try to install the package in your local computer</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ pip install -i https://test.pypi.org/simple/ abc123
</pre></div>
</div>
<p>Note that the name of the package <a class="reference external" href="https://stackoverflow.com/a/53346523/2268280">is different</a> from the <em>name of the module</em>, given by the name of the main directory inside the repository. Therefore, to use the module, we need to take into account the corresponding path in the repository:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>package name</p></th>
<th class="head"><p>main directory</p></th>
<th class="head"><p>module file</p></th>
<th class="head"><p>function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">abc123</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">desoper</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">abc123.py</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">hello()</span></code></p></td>
</tr>
</tbody>
</table>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>$ python3
&gt;&gt;&gt; import desoper
&gt;&gt;&gt; desoper.abc123.hello()
&#39;Hello, World!
</pre></div>
</div>
<p>Note that for new releases,  the <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file must be updated with the proper release number, e.g: <code class="docutils literal notranslate"><span class="pre">0.0.2</span></code>, and the related commit must pass all the previous tests.</p>
<p><strong>Activity</strong>: Update the <a class="reference external" href="http://README.md">README.md</a> for the new package name and the new module file name, make a new release and upgrade with local pip installation (Hint: Use the <code class="docutils literal notranslate"><span class="pre">-U</span></code> option at the end of the pip install command)</p>
<p><strong>Activity</strong>: Uninstall the package in your local computer</p>
<p>For an example with dependencies management inside the <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file, check the <code class="docutils literal notranslate"><span class="pre">anomalies</span></code> package at <a class="reference external" href="https://github.com/restrepo/anomalies">https://github.com/restrepo/anomalies</a>, where specific <code class="docutils literal notranslate"><span class="pre">numpy</span></code> version are required:</p>
<blockquote>
<div><p>See: <a class="reference external" href="https://docs.scipy.org/doc/scipy/dev/toolchain.html#numpy">https://docs.scipy.org/doc/scipy/dev/toolchain.html#numpy</a></p>
</div></blockquote>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>        <span class="n">install_requires</span><span class="o">=</span><span class="p">[</span>
            <span class="s1">&#39;numpy==1.16.5; python_version==&quot;3.7&quot;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;numpy&gt;=1.16.5; python_version==&quot;3.8&quot;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;numpy&gt;=1.16.5; python_version==&quot;3.9&quot;&#39;</span>
        <span class="p">],</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="local-management-of-devops">
<h2>Local management of DevOps<a class="headerlink" href="#local-management-of-devops" title="Permalink to this headline">#</a></h2>
<div class="section" id="install">
<h3>Install<a class="headerlink" href="#install" title="Permalink to this headline">#</a></h3>
<p>For that, we must can be clone the corresponding repository in your local computer in some directory at a second level from <code class="docutils literal notranslate"><span class="pre">$HOME</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir -p prog
<span class="nb">cd</span> prog
<span class="c1">#Clone the repo in $HOME/prog</span>
git clone https://github.com/restrepo/anomalies.git
</pre></div>
</div>
<p>From here, be sure that you don’t have rhe package already installed</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">uninstall</span> <span class="n">anomalies</span>
</pre></div>
</div>
<p>with <code class="docutils literal notranslate"><span class="pre">sudo</span></code> if necessary.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> file in the main directory of the package contains the metadata and requirements of the package. This allow for the installation either at the user-level or the system-level. At the user level it is just</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 setup.py install --user
</pre></div>
</div>
<p>We can check the installation by returning back to the <code class="docutils literal notranslate"><span class="pre">$HOME</span></code> directory and loading the module from there</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span>
<span class="n">python3</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">anomalies</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">exit</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="syntax-checking-with-flake8">
<h3>Syntax checking with <code class="docutils literal notranslate"><span class="pre">flake8</span></code><a class="headerlink" href="#syntax-checking-with-flake8" title="Permalink to this headline">#</a></h3>
<p>By returning back to the directory with the repository</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> prog/anomalies
</pre></div>
</div>
<p>Stop if Python syntax errors or undefined names:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">flake8</span> <span class="o">.</span> <span class="o">--</span><span class="n">ignore</span><span class="o">=</span><span class="n">C901</span> <span class="o">--</span><span class="n">select</span><span class="o">=</span><span class="n">E9</span><span class="p">,</span><span class="n">F63</span><span class="p">,</span><span class="n">F7</span><span class="p">,</span><span class="n">F82</span>
</pre></div>
</div>
<p>Warning otherwise:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">flake8</span> <span class="o">.</span> <span class="o">--</span><span class="n">count</span> <span class="o">--</span><span class="n">ignore</span><span class="o">=</span><span class="n">C901</span> <span class="o">--</span><span class="n">exit</span><span class="o">-</span><span class="n">zero</span> <span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">complexity</span><span class="o">=</span><span class="mi">10</span> <span class="o">--</span><span class="nb">max</span><span class="o">-</span><span class="n">line</span><span class="o">-</span><span class="n">length</span><span class="o">=</span><span class="mi">127</span> <span class="o">--</span><span class="n">statistics</span>
</pre></div>
</div>
<p>For further info in each rule, check the corresponding URL, e.g, for <code class="docutils literal notranslate"><span class="pre">E741</span></code>:</p>
<p><a class="reference external" href="https://www.flake8rules.com/rules/E741.html">https://www.flake8rules.com/rules/E741.html</a></p>
<p>To easily fix the syntax errors you can use visual code with the extension <code class="docutils literal notranslate"><span class="pre">cornflakes-linter</span></code>. Whenever you save the file, a highlighter will point out to <code class="docutils literal notranslate"><span class="pre">flask8</span></code> syntax error messages.</p>
</div>
<div class="section" id="tests">
<h3>Tests<a class="headerlink" href="#tests" title="Permalink to this headline">#</a></h3>
<p>At the first level of the repository, use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pytest</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="references">
<h2>References<a class="headerlink" href="#references" title="Permalink to this headline">#</a></h2>
<p>[1] <a class="reference external" href="https://en.wikipedia.org/wiki/DevOps">https://en.wikipedia.org/wiki/DevOps</a></p>
<p>[2] <a class="reference external" href="https://dev.to/arnu515/create-a-pypi-pip-package-test-it-and-publish-it-using-github-actions-part-2-1o83">https://dev.to/arnu515/create-a-pypi-pip-package-test-it-and-publish-it-using-github-actions-part-2-1o83</a></p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="Multiprocessing.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Multiprocessing</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="markdown-notebooks.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Notebooks with MyST Markdown</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By The Jupyter Book Community<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>